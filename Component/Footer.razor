@using TomAndJerry.Services
@inject IStateService StateService

<footer class="tom-jerry-footer mt-auto">
    <div class="max-w-7xl mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Left Section - Brand & Description -->
            <div class="text-center md:text-left">
                <div class="flex items-center justify-center md:justify-start space-x-3 mb-4">
                    <div class="tom-character">
                        <div class="w-12 h-12 rounded-full overflow-hidden ring-2 ring-white/30 shadow-lg">
                            <RandomSticker Category="classic" CssClass="w-full h-full" ImageCssClass="w-full h-full object-cover" AutoRefresh="true" RefreshIntervalSeconds="15" />
                        </div>
                    </div>
                    <h3 class="text-2xl font-bold text-white font-comic cartoon-text">
                        Tom & Jerry
                    </h3>
                </div>
                <p class="text-white/80 text-sm leading-relaxed font-comic">
                    The classic cat and mouse chase that has entertained generations. 
                    Watch your favorite episodes and collect adorable stickers!
                </p>
            </div>

            <!-- Center Section - Quick Links -->
            <div class="text-center">
                <h4 class="text-lg font-bold text-white font-comic cartoon-text mb-4">
                    Quick Links
                </h4>
                <div class="space-y-2">
                    <button @onclick="GoToHomePage" 
                            class="block w-full text-white/80 hover:text-yellow-300 transition-colors font-comic text-sm hover:scale-105 transform">
                        üé¨ All Episodes
                    </button>
                    <button @onclick="GoToStickers" 
                            class="block w-full text-white/80 hover:text-yellow-300 transition-colors font-comic text-sm hover:scale-105 transform">
                        üé≠ Sticker Gallery
                    </button>
                    <button @onclick="GoToSearch" 
                            class="block w-full text-white/80 hover:text-yellow-300 transition-colors font-comic text-sm hover:scale-105 transform">
                        üîç Search Episodes
                    </button>
                </div>
            </div>

            <!-- Right Section - Stats & Fun Facts -->
            <div class="text-center md:text-right">
                <h4 class="text-lg font-bold text-white font-comic cartoon-text mb-4">
                    Fun Stats
                </h4>
                <div class="space-y-2">
                    @if (StateService.IsLoading || !StateService.CurrentVideos.Any())
                    {
                        <div class="bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/30">
                            <div class="h-4 bg-white/30 rounded w-16 mx-auto mb-1 skeleton"></div>
                            <div class="text-xs text-white/80 font-comic">Episodes Available</div>
                        </div>
                    }
                    else
                    {
                        <div class="bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/30">
                            <div class="text-xl font-bold text-white font-cartoon">@StateService.CurrentVideos.Count()</div>
                            <div class="text-xs text-white/80 font-comic">Episodes Available</div>
                        </div>
                    }
                    <div class="bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/30">
                        <div class="text-xl font-bold text-white font-cartoon">24</div>
                        <div class="text-xs text-white/80 font-comic">Stickers to Collect</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Section - Copyright & Credits -->
        <div class="border-t border-white/20 mt-8 pt-6">
            <div class="flex flex-col space-y-4">
                <!-- Main Disclaimer -->
                <div class="text-center">
                    <p class="text-white/70 text-sm font-comic leading-relaxed">
                        <strong class="text-yellow-300">‚ö†Ô∏è Educational Purpose Only</strong><br/>
                        This application is created solely for learning and educational purposes. 
                        <span class="text-yellow-200">No content is monetized or used for commercial purposes.</span>
                    </p>
                </div>
                
                <!-- Content Ownership -->
                <div class="text-center">
                    <p class="text-white/60 text-xs font-comic leading-relaxed">
                        <strong>Content Disclaimer:</strong> All Tom & Jerry characters, episodes, and related content 
                        belong to their respective owners (Warner Bros. Discovery). None of the content displayed 
                        on this site belongs to the developer. This is a fan-made educational project.
                    </p>
                </div>
                
                <!-- Footer Bottom -->
                <div class="flex flex-col md:flex-row items-center justify-between space-y-2 md:space-y-0 pt-2">
                    <div class="text-center md:text-left">
                        <p class="text-white/60 text-xs font-comic">
                            ¬© 2024 Educational Project. Made with ‚ù§Ô∏è for learning purposes.
                        </p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="jerry-character">
                            <div class="w-6 h-6 rounded-full overflow-hidden ring-2 ring-white/30 shadow-lg">
                                <RandomSticker Category="classic" CssClass="w-full h-full" ImageCssClass="w-full h-full object-cover" AutoRefresh="true" RefreshIntervalSeconds="18" />
                            </div>
                        </div>
                        <p class="text-white/60 text-xs font-comic">
                            Tom & Jerry ¬© Warner Bros.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

@code {
    [Inject] private NavigationManager nav { get; set; } = default!;

    void GoToHomePage()
    {
        nav.NavigateTo("");
    }
    
    void GoToStickers()
    {
        nav.NavigateTo("stickers");
    }

    void GoToSearch()
    {
        nav.NavigateTo("search");
    }

    protected override void OnInitialized()
    {
        StateService.OnStateChanged += StateHasChanged;
    }

    public void Dispose()
    {
        StateService.OnStateChanged -= StateHasChanged;
    }
}
